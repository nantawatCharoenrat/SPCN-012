# SPCN-012
Overview of Hypervisor Technologies, Container Technology, Monolithic MicroService, Proxmox, Ceph, NFS

## 1) Hypervisor Technology
- Hypervisor (ไฮเปอร์ไวเซอร์) คือ อะไร?
    - hypervisor คือเทคนิคการจำลองให้ระบบปฏิบัติการหลายระบบสามารถทำงานพร้อมกันบนโฮสต์ได้ 
- จุดประสงค์ของ Hypervisor
    - คือการให้คอมพิวเตอร์หลายเครื่องสามารถแบ่งปันแพลตฟอร์มฮาร์ดแวร์เดียวกันได้ ซึ่งทำงานกับฮาร์ดแวร์ได้แบบ 1 ต่อ 1 เท่านั้น แต่โปรเซสเซอร์แบบมัลติคอร์มัลติเธรดและ RAM จำนวนมากจะทำให้สามารถรันโปรแกรมพร้อมกันหลายตัวได้
- Hypervisor (ไฮเปอร์ไวเซอร์) มี 2 ประเภท
    - Hypervisor Type 1 (Baremetal Architectur)
      - ทำงานโดยตรงบนฮาร์ดแวร์ของเซิร์ฟเวอร์ ดังนั้นไม่ต้องใช้ระบบปฏิบัติการอื่นเพื่อที่จะใช้ Hypervisor นี้
    - Hypervisor Type 2 (Hosted Architecture)
      - ทำหน้าที่เป็นซอฟต์แวร์ซึ่งจัดการและใช้เครื่องเสมือน ถ้าต้องการเข้าถึงทรัพยากรฮาร์ดแวร์จะต้องผ่านระบบปฏิบัติการก่อน
- ประโยชน์
    - เว็บเซิร์ฟเวอร์สามารถใช้ประโยชน์จาก Hypervisor เพื่อให้สามารถใช้ประโยชน์จากฮาร์ดแวร์ได้สูงสุดและยังช่วยลดต้นทุนได้อีกด้วย
    - ถ้าทำการแชร์เว็บโฮสติ้งผ่านโฮสต์เว็บยอดนิยมจะถือว่าเป็น Hypervisor Type 1 ด้วยฮาร์ดแวร์เซิร์ฟเวอร์ที่มีคุณภาพจะทำให้ Hypervisor มีขอบเขตการใช้งานที่มากกว่าปกติได้ การทำแบบนี้ไม่เพียงแต่ช่วยประหยัดเงินในการซื้อฮาร์ดแวร์เท่านั้น แต่ยังช่วยให้ความเย็นและพลังงานลดลงได้อีกด้วย
    
อ้างอิง : [https://personet.co.th/hypervisor/](https://personet.co.th/hypervisor/)

## 2) Container Technology
- Containerization คืออะไร?
    -  เป็นกระบวนการปรับใช้ซอฟต์แวร์ที่รวมรหัสของแอปพลิเคชันเข้ากับไฟล์และไลบรารีทั้งหมดที่จำเป็นสำหรับการทำงานบนโครงสร้างพื้นฐานใดๆ Containerization สามารถสร้างแพ็กเกจซอฟต์แวร์เดียว หรือคอนเทนเนอร์ ที่ทำงานในทุกประเภทของอุปกรณ์และระบบปฏิบัติการ
- ตัวอย่างต่อไปนี้คือเทคโนโลยียอดนิยมที่นักพัฒนาใช้สำหรับการคอนเทนเนอร์
    - Docker เป็นคอนเทนเนอร์โอเพนซอร์สเวลาทำงานที่เป็นที่นิยมที่ช่วยให้นักพัฒนาซอฟต์แวร์สร้าง ปรับใช้ และทดสอบการใช้งานการคอนเทนเนอร์บนแพลตฟอร์มต่างๆ
    - Linux เป็นสภาพแวดล้อมที่มีอยู่ในตัวเองที่ช่วยให้แอปพลิเคชันบน Linux ที่ทำงานบนโฮสต์เดียว นักพัฒนาซอฟต์แวร์ใช้คอนเทนเนอร์ Linux ในการใช้ แอปพลิเคชันที่เขียนหรืออ่านข้อมูลจำนวนมาก
    - Kubernetes เป็นเครื่องมือที่ได้รับความนิยมซึ่งนักพัฒนาซอฟต์แวร์ใช้ในการปรับใช้ ปรับขนาด และจัดการบริการระบบย่อยจำนวนมาก มีรูปแบบที่เปิดเผยที่ทำให้คอนเทนเนอร์เป็นอัตโนมัติง่ายขึ้น
- ประโยชน์
    - ช่วยให้การย้ายขึ้นคลาวด์ราบรื่นกว่าเดิม
    - คอนเทนเนอร์เป็นส่วนประกอบซอฟต์แวร์ที่มีน้ำหนักเบาทำงานได้อย่างมีประสิทธิภาพ
    - ทนทานต่อความเสียหาย
    - ช่วยแก้ปัญหาเรื่อง system dependency ระหว่างแอพแต่ละเวอร์ชัน แต่ละสถานะ
    - สามารถทำงานในสภาพแวดล้อมคอมพิวเตอร์ที่แยกกันได้
    
อ้างอิง : [https://aws.amazon.com/th/what-is/containerization/](https://aws.amazon.com/th/what-is/containerization/) , [https://www.blognone.com/node/105928](https://www.blognone.com/node/105928)

## 3) Monolithic MicroService
- Monolithic คืออะไร?
	- คือสถาปัตยกรรมที่นิยมกันโดยทั่วไป Component ต่างๆถูกเขียนขึ้นมาด้วย Environment เดียวกันใช้ Database
- ประโยชน์ของ Monolithic
	- ง่ายต่อการพัฒนา เนื่องจาก Application อยู่ใน Environment เดียวกัน
	- ง่ายต่อการ Deploy เนื่องจากแต่ละ Component ถูกมัดรวมกัน
	- ง่ายต่อการ Scale การ Scale สามารถทำได้โดย Clone Application นี้ออกมาเป็น Server ที่ 2 หรือ 3 และใช้ Load balancer ทำหน้าที่ Balance ให้อีกครั้งหนึ่ง
- ปัญหาของ Monolithic
	- Developer คนใหม่ไม่เข้าใจระบบเนื่องจากการพัฒนาเป็นระยะเวลานาน
	- Code มีขนาดใหญ่ทำให้ IDE ช้า Productivity จึงช้าตาม
	- การ Deploy เริ่มจากการแก้ไข Component ใดก็อาจกระทบกับ Component อื่นๆรวมถึงการ Restart Service ต่างๆ
	- การ Scale เริ่มยากเนื่องจาก เราไม่สามารถ Scale ในแกนอื่นได้นอกจากแกน X
	- เมื่อต้องการพัฒนา Component ใดๆพร้อมๆกันก็อาจเกิด Conflict ได้หลายจุด
	- เมื่อมี Technology ใหม่ๆเข้ามาภาษาใหม่ๆเข้ามาการนำมาประยุกต์ใช้เป็นเรื่องยาก
	- การย้าย Application ไปยัง Framework ใหม่เป็นเรื่องยากซึ่งอาจต้องพัฒนาใหม่ทั้งหมด

- Microservice คืออะไร?
	- คือสถาปัตยกรรมหรือเทคนิคการพัฒนาซอฟต์แวร์ โดยวางโครงสร้างของแอปพลิเคชันให้เป็นชุดในลักษณะ loosely coupled และ Microservices ยังจะช่วยแก้ปัญหาต่างๆจาก Monolithic อีกด้วย
- ประโยชน์ของ Microservice
	- แก้ไขปัญหาความซับซ้อนของ Application
	- เมื่อแยก Service ออกมาแล้ว Developer ที่ดูแล Service ของตัวเองจะมีความเป็นอิสระในการเลือก Technology ที่ถนัดหรือเหมาะสมกับ Service ของตัวเอง
	- การ Deploy ที่เป็นอิสระจาก Services อื่นๆทำให้สะดวกทำให้ไม่จำเป็นต้องรอให้ Deploy พร้อมกัน
	- การ Scale เริ่มเป็นอิสระขึ้นแต่ละ Service สามารถออกแบบการ Scale ได้ง่ายขึ้นเนื่องจาก Focus เพียงการ Scale ใน service ของตนไม่ depen กับ Service อื่นๆ
	
อ้างอิง : [ข้อแตกต่างระหว่าง Microservices และ Monolithic : Softnix](https://www.softnix.co.th/2018/07/13/%E0%B8%82%E0%B9%89%E0%B8%AD%E0%B9%81%E0%B8%95%E0%B8%81%E0%B8%95%E0%B9%88%E0%B8%B2%E0%B8%87%E0%B8%A3%E0%B8%B0%E0%B8%AB%E0%B8%A7%E0%B9%88%E0%B8%B2%E0%B8%87-microservices-%E0%B9%81%E0%B8%A5%E0%B8%B0-mono/)

## 4) Proxmox
- Proxmox คือ อะไร?
    - Proxmox เป็นแพลตฟอร์มการจัดการเซิร์ฟเวอร์โอเพ่นซอร์ซที่สมบูรณ์แบบสำหรับการจำลองเสมือนขององค์กร ได้รับการพัฒนาโดย Proxmox Server Solutions ในออสเตรียภายใต้ Internet Foundation of Austria และเผยแพร่ภายใต้ GNU General Public License
    - Proxmox สามารถจัดคลัสเตอร์ข้ามโหนดเซิร์ฟเวอร์หลายเครื่องเพื่อความพร้อมใช้งานสูง เมื่อปรับใช้แล้ว ตัวจัดการทรัพยากรที่เรียกว่า Proxmox VE HA Manager จะตรวจสอบ VM และคอนเทนเนอร์ทั้งหมดบนคลัสเตอร์ทั้งหมด จากนั้นจะดำเนินการโดยอัตโนมัติหากหนึ่งในนั้นล้มเหลว
    - นอกจากนี้ยังมีคุณสมบัติการโยกย้ายแบบออนไลน์ ซึ่งช่วยให้ย้าย VM จากโหนดคลัสเตอร์ Proxmox VE ไปยังโหนดอื่นได้โดยไม่ต้องหยุดทำงาน ทำให้ผู้ดูแลระบบสามารถเริ่มต้นกระบวนการด้วยสคริปต์หรือเว็บอินเทอร์เฟซได้

อ้างอิง : [VMware vSphere กับ Proxmox สำหรับธุรกิจ ใช้แบบไหนดีที่สุด (quickserv.co.th)](https://www.quickserv.co.th/knowledge-base/technology/VMware-vSphere-%e0%b8%81%e0%b8%b1%e0%b8%9a-Proxmox-%e0%b8%aa%e0%b8%b3%e0%b8%ab%e0%b8%a3%e0%b8%b1%e0%b8%9a%e0%b8%98%e0%b8%b8%e0%b8%a3%e0%b8%81%e0%b8%b4%e0%b8%88-%e0%b9%83%e0%b8%8a%e0%b9%89%e0%b9%81%e0%b8%9a%e0%b8%9a%e0%b9%84%e0%b8%ab%e0%b8%99%e0%b8%94%e0%b8%b5%e0%b8%97%e0%b8%b5%e0%b9%88%e0%b8%aa%e0%b8%b8%e0%b8%94/)

## 5) Ceph
- Ceph คือ อะไร?
    - เป็นซอฟต์แวร์ทำ Software-Defined Storage ที่เป็น Open Source ได้รับความนิยมติดตั้งเป็น Backend การเก็บข้อมูลในระบบ OpenStack และมีขนาดของ community ที่ใหญ่ขึ้นเรื่อย ๆ
- Ceph จะประกอบด้วยส่วนประกอบหลัก ๆ 3 ส่วน
	- MON (Monitor Node)ทำหน้าที่ดูแลสถานะของ Ceph cluster
	- OSD (Object Storage Node) เป็น Node ทำหน้าที่เก็บข้อมูล ของระบบ หากต้องการใช้ CephFS จะต้องมี	
    - MDS (Metadata Node) ทำหน้าที่ดูแลสถานะของ file hierarchy (สำหรับ CephFS เท่านั้น)
- ข้อดี-ข้อเสีย ของ Ceph
	- เป็น Open source ไม่มีค่าใช้จ่ายสำหรับตัวซอฟต์แวร์
	- สามารถให้บริการได้หลากหลายรูปแบบ (Block, Object, Filesystem)
	- สามารถขยายระบบได้ง่าย เพียงเติมเครื่องเข้าระบบ
	- ใช้ Hardware ทั่ว ๆ ไป ไม่จำเป็นต้องเป็น Hardware เฉพาะแต่ละส่วนมีความคงทนของระบบ (High Availability) ไม่ว่าจะเป็น MON, MDS หรือ OSD
ข้อเสียที่ชัดที่สุดของ Ceph นั้นจะเปลืองดิสก์กว่า Storage แบบปกติ

อ้างอิง : [https://www.clusterkit.co.th/blogs/ceph-storage/](https://www.clusterkit.co.th/blogs/ceph-storage/)

## 6) NFS
- NFS คือ อะไร?
    - เป็น Protocol ที่ช่วยให้ Computer สามารถแชร์ข้อมูลผ่าน Network ได้
- การทำงานของ NFS
	- จะมีลักษณะเป็น Client Server โดยที่เราอาจต้องมีการกำหนดค่าสำหรับ Client แต่ละตัวในกรณีที่ต้องการกำหนดสิทธิในการเข้าถึงข้อมูลที่แตกต่างกัน
- ปัจจุบัน NFS ได้มีออกมา 3 เวอร์ชั่น
	- โดยเวอร์ชั่น 3 เป็นแบบที่อาศัย RPC (Remote Procedure Call) โดยเป็นโปรโตคอลที่ไม่มีสถานะ (Stateless Protocol) หรือหมายถึงเป็นโปรโตคอลที่ทำงานแบบถามมา-ตอบไป โดยไม่ต้องมีการรอคอยดำเนินการใดๆ	
    - ทำหน้าที่เป็นซอฟต์แวร์ซึ่งจัดการและใช้เครื่องเสมือน ถ้าต้องการเข้าถึงทรัพยากรฮาร์ดแวร์จะต้องผ่านระบบปฏิบัติการก่อน
    
อ้างอิง : [NFS คืออะไร เอ็นเอฟเอส คือ เป็นบริการที่อนุญาตให้คอมพิวเตอร์สามารถเข้าถึง เครื่องคอมพิวเตอร์อีกเครื่องหนึ่งที่อยู่ห่างกันได้ (mindphp.com)](https://www.mindphp.com/%E0%B8%84%E0%B8%B9%E0%B9%88%E0%B8%A1%E0%B8%B7%E0%B8%AD/73-%E0%B8%84%E0%B8%B7%E0%B8%AD%E0%B8%AD%E0%B8%B0%E0%B9%84%E0%B8%A3/2170-nfs-%E0%B8%84%E0%B8%B7%E0%B8%AD%E0%B8%AD%E0%B8%B0%E0%B9%84%E0%B8%A3.html) , [https://blog.cloudhm.co.th/nfs-vs-smb/](https://blog.cloudhm.co.th/nfs-vs-smb/)

